<!DOCTYPE html>
<meta charset="UTF-8">
<title>Terraria Control Panel - Login</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<style>
    .main {
        margin: 30vh auto 0;
        max-width: 300px;
        height: 250px;

        display: flex;
        flex-direction: column;
        align-items: stretch;
        justify-content: center;

        padding: 2rem;

        background-color: gray;
    }

    .main > .btn-div * {
        float: right;
    }
</style>
<div class="main col">
    <form action="/login" method="POST">
        <div class="input-field">
            <label class="white-text" for="username">Username</label>
            <input type="text" id="username" name="username">
        </div>
        <div class="input-field white-text">
            <label class="white-text" for="password"> Password</label>
            <input type="password" id="password" name="password">
        </div>
        <div class="btn-div">
            <button class="btn waves-effect waves-ripple white black-text"
                   type="submit"
                   name="action">
            Login
            </button>
        </div>
    </form>
</div>
<script>
    function login() {
        const username = document.querySelector('#username').value;
        const password = document.querySelector('#password').value;
        const payload = {username, password}
        fetch('/login', {
            method: 'POST',
            body: JSON.stringify(payload),
            headers: {
                'Content-Type': 'application/json'
            }
        }).then(e => (console.log(e), e.json())).then(e => console.log(e))
    }
</script>
